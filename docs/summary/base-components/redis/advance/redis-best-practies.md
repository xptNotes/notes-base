# Redis最佳实践

# 经典的缓存问题

## 缓存穿透问题

缓存穿透: 由于设计前端请求参数不合理,可以给人遍历,造成大量不存在的数据请求,这些请求会访问缓存失败,全部进入到DB

缓存穿透解决方案:

- IP限流,避免同一IP访问大量请求
- 请求非法娇艳
- 布隆过滤器





## 缓存雪崩问题

缓存雪崩问题: 在使用redis做缓存时,写入数据一般会设置过期时间,如果一批热点key在同一时间失效,导致查询请求都达到DB,给数据库造成巨大的读压力,严重可能导致数据库宕机.

解决缓存雪崩问题,方案:

- 热点数据永不过期,避免请求热点数据的大量请求进入到db
- 错开过期时间
- 使用分布式锁或者MQ,请求串型化或者解耦



## 缓存击穿问题

缓存击穿问题: 大量请求访问同一个key,当这个key失效后,大量请求达到DB

缓存击穿解决方案:

- 永不过期

- 串行化访问,重构缓存

  

## 缓存一致性问题





























